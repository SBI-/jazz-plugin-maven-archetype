# jazz-plugin-maven-archetype
Maven archetype to generate a jazz plugin project.

All of the following sections make assumptions about your working environment. At least git and maven are absolutely necessary to use this archetype. The instructions assume that both executables are on your path and consequently useable with just the program name.

Further, you will need to have installed the [jazz base service](URL), which is a dependency for any services created with this archetype. Any maven builds without this dependency available in your local maven repository will fail. Also, you need to have the [jazz sdk p2 repository](URL) available in your maven repository. It is also suggested that you have the [jazz jetty environment](https://github.com/innerjoin/jazz-debug-environment) available for a rapid development and test cycle.

## Example archetype usage

This section shows how to create an example service from the archetype. It uses default settings and is absolutely not recommended for usage in a productive environment and only serves as an example.

1. Clone this repository.
2. Run setup.ps1 / setup.sh
3. Three consecutive successful maven build cycles should run.
4. Inside the target folder, there should now be a folder named `com.siemens.example.parent` with the example service structure.
5. You can now run `mvn install` from inside the `com.siemens.example.parent` folder to build the example service plugin.

For brevity, this section only covers files and folders that are relevant to understanding the basic structure generated by the archetype (not the file structure of the actual archetype). A finished build will contain more files.

## Bootstrapping a new jazz service with the archetype

## Detailed archetype usage

## File structure explanation (using the simple example)
|File structure                                                            | Explanation
|---------------------------------------------------------------------------------------
|com.siemens.example.parent                                                | 
|│   pom.xml                                                               | 
|│                                                                         | 
|├───.mvn                                                                  | 
|│       extensions.xml                                                    | 
|│                                                                         | 
|├───feature                                                               | 
|│   │   build.properties                                                  | 
|│   │   feature.xml                                                       | 
|│   │   pom.xml                                                           | 
|│   │                                                                     | 
|│   └───target                                                            | 
|│       │   com.siemens.example.feature-1.0.0-SNAPSHOT.jar                | 
|│       │   feature.xml                                                   | 
|│       │   local-artifacts.properties                                    | 
|│       │   p2artifacts.xml                                               | 
|│       │   p2content.xml                                                 | 
|│       │                                                                 | 
|│       └───dependency                                                    | 
|│               com.siemens.bt.jazz.services.base-1.0.1-SNAPSHOT.jar      | 
|│               gson-2.7.jar                                              | 
|│                                                                         | 
|├───plugin                                                                | 
|│   │   build.properties                                                  | 
|│   │   plugin.xml                                                        | 
|│   │   pom.xml                                                           | 
|│   │                                                                     | 
|│   ├───conf                                                              | 
|│   │       log4j.properties                                              | 
|│   │       scr.xml                                                       | 
|│   │       services.xml                                                  | 
|│   │       teamserver.properties                                         | 
|│   │                                                                     | 
|│   ├───META-INF                                                          | 
|│   │       MANIFEST.MF                                                   | 
|│   │                                                                     | 
|│   ├───src                                                               | 
|│   │   └───main                                                          | 
|│   │       └───java                                                      | 
|│   │           └───com                                                   | 
|│   │               └───siemens                                           | 
|│   │                   └───example                                       | 
|│   │                       │   ExampleService.java                       | 
|│   │                       │   IExampleService.java                      | 
|│   │                       │                                             | 
|│   │                       └───builder                                   | 
|│   │                               HelloWorldPostService.java            | 
|│   │                               HelloWorldService.java                | 
|│   │                                                                     | 
|│   └───target                                                            | 
|│       │   com.siemens.example-1.0.0-SNAPSHOT.jar                        | 
|│       │   local-artifacts.properties                                    | 
|│       │   MANIFEST.MF                                                   | 
|│       │   p2artifacts.xml                                               | 
|│       │   p2content.xml                                                 | 
|│       │                                                                 | 
|│       ├───classes                                                       | 
|│       │   └───com                                                       | 
|│       │       └───siemens                                               | 
|│       │           └───example                                           | 
|│       │               │   ExampleService.class                          | 
|│       │               │   IExampleService.class                         | 
|│       │               │                                                 | 
|│       │               └───builder                                       | 
|│       │                       HelloWorldPostService.class               | 
|│       │                       HelloWorldService.class                   | 
|│       │                                                                 | 
|│       ├───dependency                                                    | 
|│       │       com.siemens.bt.jazz.services.base-1.0.1-SNAPSHOT.jar      | 
|│       │       gson-2.7.jar                                              | 
|│       │                                                                 | 
|│       ├───generated-sources                                             | 
|│       │   └───annotations                                               | 
|│       └───maven-archiver                                                | 
|│               pom.properties                                            | 
|│                                                                         | 
|├───target                                                                | 
|│   └───dependency                                                        | 
|│           com.siemens.bt.jazz.services.base-1.0.1-SNAPSHOT.jar          | 
|│           gson-2.7.jar                                                  | 
|│                                                                         | 
|└───update-site                                                           | 
|    │   category.xml                                                      | 
|    │   pom.xml                                                           | 
|    │                                                                     | 
|    ├───target                                                            | 
|    │   │   category.xml                                                  | 
|    │   │   com.siemens.example.updatesite-1.0.0-SNAPSHOT.zip             | 
|    │   │   local-artifacts.properties                                    | 
|    │   │   p2artifacts.xml                                               | 
|    │   │   p2content.xml                                                 | 
|    │   │                                                                 | 
|    │   ├───archive-tmp                                                   | 
|    │   │       site.xml.1772659599.filtered                              | 
|    │   │       update-site.ini.759812096.filtered                        | 
|    │   │                                                                 | 
|    │   ├───classes                                                       | 
|    │   │       deployment-properties.ini                                 | 
|    │   │                                                                 | 
|    │   ├───dependency                                                    | 
|    │   │       com.siemens.bt.jazz.services.base-1.0.1-SNAPSHOT.jar      | 
|    │   │       gson-2.7.jar                                              | 
|    │   │                                                                 | 
|    │   ├───p2agent                                                       | 
|    │   │   ├───org.eclipse.equinox.p2.core                               | 
|    │   │   │   └───cache                                                 | 
|    │   │   │           artifacts.xml                                     | 
|    │   │   │                                                             | 
|    │   │   └───org.eclipse.equinox.p2.engine                             | 
|    │   │       ├───.settings                                             | 
|    │   │       │       org.eclipse.equinox.p2.artifact.repository.prefs  | 
|    │   │       │       org.eclipse.equinox.p2.metadata.repository.prefs  | 
|    │   │       │                                                         | 
|    │   │       └───profileRegistry                                       | 
|    │   ├───repository                                                    | 
|    │   │   │   artifacts.jar                                             | 
|    │   │   │   artifacts.xml.xz                                          | 
|    │   │   │   content.jar                                               | 
|    │   │   │   content.xml.xz                                            | 
|    │   │   │   deployment-properties.ini                                 | 
|    │   │   │   p2.index                                                  | 
|    │   │   │                                                             | 
|    │   │   ├───features                                                  | 
|    │   │   │       com.siemens.example.feature_1.0.0.201703240807.jar    | 
|    │   │   │                                                             | 
|    │   │   └───plugins                                                   | 
|    │   │           com.siemens.example_1.0.0.201703240807.jar            | 
|    │   │                                                                 | 
|    │   └───targetPlatformRepository                                      | 
|    │           content.xml                                               | 
|    │                                                                     | 
|    └───templates                                                         | 
|        │   site.xml                                                      | 
|        │   update-site.ini                                               | 
|        │   zip.xml                                                       | 
|        │                                                                 | 
|        └───deployment                                                    | 
|                deployment-properties.ini                                 | 


